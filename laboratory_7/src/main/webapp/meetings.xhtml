<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://primefaces.org/ui/extensions">
<h:head>
    <title>Meetings</title>
</h:head>
<h:body>
    <h1>Create Meeting</h1>
    <h:form>
<!--        <h2><h:outputLabel for="meetingId" value="Meeting Id:"/></h2>-->
<!--        <h:inputText id="meetingId" value="#{meetingBean.entity.id}"-->
<!--                     required="true" converter="javax.faces.BigDecimal"/>-->
        <h2><h:outputLabel for="meetingTopic" value="Meeting Topic:"/></h2>
        <h:inputText id="meetingTopic" value="#{meetingBean.entity.topic}" validator="topicValidator"
                     required="true"/>
        <h2><h:outputLabel for="meetingCapacity" value="Meeting Capacity:"/></h2>
        <h:inputText id="meetingCapacity" value="#{meetingBean.entity.capacity}"
                     required="true" converter="javax.faces.Integer"/>
        <h2><h:outputLabel for="meetingStartingTime" value="Meeting Starting Time:"/></h2>
        <p:calendar id="meetingStartingTime" value="#{meetingBean.entity.starting_time}"
                    pattern="MM/dd/yyyy HH:mm" required="true" />
        <h2><h:outputLabel for="meetingDuration" value="Meeting Duration:"/></h2>
        <h:inputText id="meetingDuration" value="#{meetingBean.entity.duration}"
                     required="true" converter="javax.faces.BigDecimal"/>

        <h2></h2>
        <p:dataTable id="checkboxDT" var="personBean" value="#{personBean.personManager.persons}" selection="${meetingBean.selectedPersons}" scrollable="true" rowKey="#{personBean.entity.id}" style="margin-bottom:0">
            <f:facet name="header">
                Persons
            </f:facet>
            <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
            <p:column headerText="Id">
                <h:outputText value="#{personBean.entity.id}" />
            </p:column>
            <p:column headerText="Name">
                <h:outputText value="#{personBean.entity.name}" />
            </p:column>
            <f:facet name="footer"></f:facet>
        </p:dataTable>
        <h2></h2>
        <p:dataTable id="singlecheckDT" var="locationBean" value="#{locationBean.locationManager.locations}" selection="${meetingBean.selectedLocation}" scrollable="true" rowKey="#{locationBean.entity.id}" style="margin-bottom:0">
            <f:facet name="header">
                Location
            </f:facet>
            <p:column selectionMode="single" style="width:16px;text-align:center"/>
            <p:column headerText="Id">
                <h:outputText value="#{locationBean.entity.id}" />
            </p:column>
            <p:column headerText="Name">
                <h:outputText value="#{locationBean.entity.name}" />
            </p:column>
        </p:dataTable>

        <h2><h:commandButton id="submit"
                             value="Submit" action="#{meetingBean.meetingManager.addMeeting(meetingBean)}">
        </h:commandButton></h2>

    </h:form>
</h:body>

</html>
